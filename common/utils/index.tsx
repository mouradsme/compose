import axios from 'axios';

const formatDate = (input: string) => {
  if (!input) {
    return;
  }
  const date = new Date(input);
  const day = String(date.getDate()).padStart(2, '0');
  const month = String(date.getMonth() + 1).padStart(2, '0'); // Note: getMonth() returns 0-based months
  const year = date.getFullYear();

  return `${day}-${month}-${year}`;
};

// Create a new Axios instance
const httpHandler = axios.create();

// If you're not in the edge runtime, apply the httpsAgent settings
if (typeof window === 'undefined' && !process.env.EDGE_RUNTIME) {
  // eslint-disable-next-line @typescript-eslint/no-var-requires
  const https = require('https');
  httpHandler.defaults.httpsAgent = new https.Agent({
    rejectUnauthorized: false,
  });
}

const blurImageUrl =
  'data:image/jpeg;base64,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';

function debounce<F extends (...args: any[]) => any>(
  func: F,
  wait: number
): (...args: Parameters<F>) => void {
  let timeout: ReturnType<typeof setTimeout> | undefined;

  return function (...args: Parameters<F>): void {
    const later = () => {
      timeout = undefined;
      func(...args);
    };

    if (timeout !== undefined) {
      clearTimeout(timeout);
    }

    timeout = setTimeout(later, wait);
  };
}

export { formatDate, httpHandler, blurImageUrl, debounce };
export default Object.freeze({
  formatDate,
  httpHandler,
  blurImageUrl,
  debounce,
});
